"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ramda_1 = require("ramda");
var api_1 = require("./api");
var trimObject = function (schemas, schemaName, version, object) {
    var schema = api_1.getObjectSchema(schemas, schemaName, version);
    if (!schema) {
        throw new Error("Could not schema " + schemaName + "@" + version);
    }
    if (!object) {
        throw new Error('Expected an object to trim');
    }
    var result = ramda_1.clone(object);
    var objectProperties = ramda_1.keys(result);
    var schemaProperties = ramda_1.keys(schema.schema.properties);
    var extraProperties = ramda_1.difference(objectProperties, schemaProperties);
    extraProperties.forEach(function (extra) {
        delete result[extra];
    });
    return result;
};
exports.trim = ramda_1.curry(trimObject);
